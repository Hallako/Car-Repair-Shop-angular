<div class="profile-container">

  <div *ngIf='user' class="profile-block user-block">
      <h2 class="page-header">{{user.firstname}} {{user.lastname}}</h2>
      <ul class="list-group">
          <li class="list-group-item">Username: {{user.username}}</li>
          <li class="list-group-item">email: {{user.email}}</li>
          <li class="list-group-item" *ngIf="user.admin">Admin</li>
      </ul>
  </div>

  <div class="profile-block changePw-block">
    <h2 class="page-header">Vaihda salasana</h2>
    <form [formGroup]="changePwForm" (ngSubmit)="onPasswordChange() ; changePwForm.reset()" class="login-form">
        <div class="form-group" [ngClass]="{'has-error': changePwForm.get('password').invalid && !changePwForm.get('password').pristine}">
            <input type="password" class="form-control" formControlName="password" name="newPassword" placeholder="Uusi salasana" [ngClass]="{'form-control-danger': changePwForm.get('password').invalid && !changePwForm.get('password').pristine}">
        </div>

        <div class="form-group" [ngClass]="{'has-error': changePwForm.get('passwordConfirm').invalid && !changePwForm.get('passwordConfirm').pristine}">
          <input type="password" class="form-control" formControlName="passwordConfirm" name="newPassword2" placeholder="Vahvista uusi salasana" [ngClass]="{'form-control-danger': changePwForm.get('passwordConfirm').invalid}">
        </div>
        <button [disabled]="!changePwForm.valid" type="submit" class="btn btn-primary">Vaihda</button>
    </form>
  </div>

  <div class="panel-body">
    <table class="table table-striped table-hover">
      <thead>
        <h2 class="page-header">Omat varaukset</h2>
        <tr>
          <th>Toimenpide</th>
          <th>Aloitusaika</th>
          <th>Päättymisaika</th>
          <th>Lisätietoja</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let event of events">
          <td>{{event.title}}</td>
          <td>{{event.start}}</td>
          <td>{{event.end}}</td>
          <td>{{event.description}}</td>
        </tr>
      </tbody>
    </table>
  </div>

</div>
