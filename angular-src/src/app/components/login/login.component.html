<div class="logincontainer">
  <h2 class="page-header">Kirjautuminen</h2>
  <form [formGroup]="loginForm" (ngSubmit)="onLoginSubmit(); loginForm.get('password').reset()">



      <div class="form-group form-solo" [ngClass]="{'has-error': loginForm.get('login').invalid && loginForm.get('login').touched}">
        <label>Valitse haluamasi korjaamo</label>
        <select type="text" class="form-control" formControlName="location" name="location">
                    <option value="keskusta">Keskustan korjaamo</option>
                    <option value="perala" >Perälän korjaamo</option>
                </select>
      </div>

    <div class="form-group form-solo" [ngClass]="{'has-error': loginForm.get('login').invalid && loginForm.get('login').touched}">
      <label>Käyttäjänimi</label>
      <small class="form-alert" *ngIf="loginForm.get('login').hasError('required') && loginForm.get('login').touched">Anna käyttäjänimi</small>
      <input type="text" class="form-control" formControlName="login" name="login">
    </div>

    <div class="form-group form-solo" [ngClass]="{'has-error': loginForm.get('password').invalid && loginForm.get('password').touched}">
      <label>Salasana</label>
      <small class="form-alert" *ngIf="loginForm.get('password').hasError('required') && loginForm.get('password').touched">Anna salasana</small>
      <input type="password" class="form-control" formControlName="password" name="password">
    </div>
    <input [disabled]="!loginForm.valid" type="submit" class="btn btn-primary" value="Kirjaudu">
    <a (click)="showReset = !showReset">Unohditko salasanasi?</a>
  </form>

</div>

<div *ngIf="showReset" class="modal">
  <div class="modal-dialog">
    <div class="modal-content">
      <form [formGroup]="resetForm" (ngSubmit)="onResetSubmit(); resetForm.get('resetEmail').reset()">
        <div class="modal-header">
          <button type="button" class="close" (click)="showReset = !showReset">&times;</button>
          <h4 class="modal-title">Anna sähköpostiosoitteesi</h4> Lähetämme antamaasi osoitteeseen uuden salasanan, jolla voit jälleen kirjautua sivustolle.
        </div>
        <div class="form-group modal-body" [ngClass]="{'has-error': resetForm.get('resetEmail').hasError('required') && resetForm.get('resetEmail').touched}">
          <input type="text" class="form-control form-inline" formControlName="resetEmail" name="resetEmail">
          <input [disabled]="!resetForm.valid" type="submit" class="btn btn-primary btn-reset" value="Lähetä">
        </div>
      </form>
    </div>
  </div>
</div>
